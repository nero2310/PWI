<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Kółko i krzyżyk</title>
    <style>
        td {
            width: 50px;
            height: 50px;
            text-align: center;
            font-size: 36px;
            font-weight: bold;
            background: gray;
            cursor: pointer;
        }
    </style>
</head>
<body>
<table>
    <tr>
        <td id="0"></td>
        <td id="1"></td>
        <td id="2"></td>
    </tr>
    <tr>
        <td id="3"></td>
        <td id="4"></td>
        <td id="5"></td>
    </tr>
    <tr>
        <td id="6"></td>
        <td id="7"></td>
        <td id="8"></td>
    </tr>
    <button onclick="reset()">Reset</button>
</table>

<script>
    let board = ["", "", "", "", "", "", "", "", ""]; // pusta plansza
    let player = "X"; // gracz X rozpoczyna grę
    let moves = 0; // ilość wykonanych ruchów

    // funkcja obsługująca kliknięcie w pole planszy
    function move(id) {
        if (board[id] === "") { // jeśli pole jest puste
            document.getElementById(id).innerHTML = player; // ustaw symbol gracza na polu
            board[id] = player; // zapisz ruch do tablicy
            moves++; // zwiększ licznik ruchów
            checkWin(); // sprawdź, czy gracz wygrał
            if (player === "X") player = "O"; // zmiana gracza
            else player = "X";
        }
    }

    // funkcja sprawdzająca, czy gracz wygrał
    function checkWin() {
        if (
            (board[0] === player && board[1] === player && board[2] === player) ||
            (board[3] === player && board[4] === player && board[5] === player) ||
            (board[6] === player && board[7] === player && board[8] === player) ||
            (board[0] === player && board[3] === player && board[6] === player) ||
            (board[1] === player && board[4] === player && board[7] === player) ||
            (board[2] === player && board[5] === player && board[8] === player) ||
            (board[0] === player && board[4] === player && board[8] === player) ||
            (board[2] === player && board[4] === player && board[6] === player)
        ) {
            alert("Gracz " + player + " wygrał!");
            reset();
        } else if (moves === 9) {
            alert("Remis!");
            reset();
        }
    }

    // funkcja resetująca grę
    function reset() {
        board = ["", "", "", "", "", "", "", "", ""];
        for(let i=0;i<9;i++)
        {
            document.getElementById(i).innerHTML = "";
        }
        player = "X";
        moves = 0;
    }
    document.getElementById("0").addEventListener("click", function(){ move("0"); });
    document.getElementById("1").addEventListener("click", function(){ move("1"); });
    document.getElementById("2").addEventListener("click", function(){ move("2"); });
    document.getElementById("3").addEventListener("click", function(){ move("3"); });
    document.getElementById("4").addEventListener("click", function(){ move("4"); });
    document.getElementById("5").addEventListener("click", function(){ move("5"); });
    document.getElementById("6").addEventListener("click", function(){ move("6"); });
    document.getElementById("7").addEventListener("click", function(){ move("7"); });
    document.getElementById("8").addEventListener("click", function(){ move("8"); });
</script>
</body>
</html>
